
# 实验报告：Buffon 投针实验估计 $\pi$ 值

**学生姓名：** [陈荣欣] 

**学号：** [20231050016] 

**完成日期：** [25/6/25]

## 一、实验目的
编写程序，利用 Buffon 投针实验来估计 $\pi$ 的值，并分析实验次数对估计精度的影响。

## 二、实验原理
简要描述 Buffon 投针实验的原理，包括投针概率与 $\pi$ 的关系公式。

## 三、实验环境
### 3.1 硬件环境
- 计算机型号：[LAPTOP-1JR628Q3]
- CPU：[12th Gen Intel(R) Core(TM) i5-1240P   1.70 GHz]
- 内存：[16GB]

### 3.2 软件环境
- 操作系统：[Windows 11 26100.4351]
- 编程语言：[Python 3.9.6]
- 开发工具：[PyCharm 2023.1.3]

## 四、实验步骤
### 4.1 投针实验模拟逻辑实现
详细描述实现投针实验模拟逻辑的步骤，可附上关键代码片段。
```python
# import numpy as np
import matplotlib.pyplot as plt

def buffon_experiment(n, l=1.0, d=2.0):
    """
    模拟Buffon投针实验
    
    参数:
    n (int): 实验次数
    l (float): 针的长度，默认为1.0
    d (float): 平行线间距，默认为2.0
    
    返回:
    float: π的估计值
    int: 相交次数
    """
    # 生成随机数
    y = np.random.uniform(0, d, n)  # 针的中心点位置
    theta = np.random.uniform(0, np.pi/2, n)  # 针与平行线的夹角
    
    # 判断相交情况
    cross = (y <= (l/2) * np.sin(theta)) | ((d - y) <= (l/2) * np.sin(theta))
    m = np.sum(cross)  # 相交次数
    
    # 计算π的估计值
    if m == 0:
        return None, 0
    pi_estimate = (2 * l * n) / (m * d)
    return pi_estimate, m

# 不同实验次数
experiment_counts = [100, 1000, 10000, 100000, 1000000]
pi_estimates = []
crosses = []

# 运行实验
for n in experiment_counts:
    pi_est, m = buffon_experiment(n)
    pi_estimates.append(pi_est)
    crosses.append(m)
    print(f"实验次数: {n}, 相交次数: {m}, π估计值: {pi_est:.6f}")
```

### 4.2 实验次数设置
说明实验中设置的不同实验次数，例如：100、1000、10000、100000 等。

### 4.3 运行实验并记录结果
记录每次实验得到的 $\pi$ 估计值。

## 五、实验结果
### 5.1 不同实验次数下的 $\pi$ 估计值
| 实验次数 | $\pi$ 估计值 |
|----------|---------------|
| 100      | [3.225806]  |
| 1000     | [3.067485]  |
| 10000    | [3.091190]  |
| 100000   | [3.129597]  |

### 5.2 实验结果可视化
附上不同实验次数与 $\pi$ 估计值的关系图表，可使用折线图或柱状图。
![实验结果图表]([填写图表路径])![image](https://github.com/user-attachments/assets/f0ad4b35-fcf0-4e7a-9ac0-a6b6447dec74)


## 六、结果分析
### 6.1 实验次数对估计精度的影响
分析随着实验次数的增加， $\pi$ 估计值的变化趋势，以及估计精度的变化情况。
从实验结果可以看出，随着实验次数的增加，π 的估计值逐渐接近真实值（3.1415926...）。当实验次数较少时（如 100 次），估计值的波动较大；而当实验次数增加到 100000 次时，估计值已经非常接近真实值。这表明，实验次数越多，估计精度越高，符合大数定律的预期。
### 6.2 误差来源分析
讨论实验中可能存在的误差来源，如随机数生成的质量、模拟逻辑的近似等。
实验中可能存在的误差来源包括：
随机数生成的质量：计算机生成的随机数实际上是伪随机数，可能存在一定的统计偏差。
模拟逻辑的近似：实验中使用的是有限次数的模拟，而理论上需要无限次实验才能得到精确的 π 值。
浮点运算误差：计算机在进行浮点运算时可能会引入舍入误差。
## 七、实验结论
总结实验结果，说明 Buffon 投针实验是否能够有效估计 $\pi$ 的值，以及实验次数对估计精度的影响是否符合预期。
Buffon 投针实验能够有效估计 π 的值，随着实验次数的增加，估计精度逐渐提高。
实验次数对估计精度的影响符合大数定律，即实验次数越多，估计值越接近真实值。
该方法虽然直观有趣，但收敛速度较慢，需要大量实验才能获得较高精度的估计值。


        
